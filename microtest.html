<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Micro Expressões Faciais Test</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
        }
        .container {
            width: 90%;
            max-width: 800px;
            background: linear-gradient(145deg, #161616, #1e1e1e);
            box-shadow: 5px 5px 15px #000000, -5px -5px 15px #2a2a2a;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        h1, h2 {
            margin: 10px 0;
            text-shadow: 2px 2px 5px #000;
        }
        video {
            width: 100%;
            max-height: 400px;
            border: 3px solid #333;
            border-radius: 10px;
            box-shadow: 5px 5px 15px #000000, -5px -5px 15px #2a2a2a;
            margin-bottom: 20px;
        }
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            box-shadow: 3px 3px 10px #000000, -3px -3px 10px #2a2a2a;
        }
        button, .option {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            background: #333;
            border: none;
            border-radius: 5px;
            color: #fff;
            cursor: pointer;
            box-shadow: 3px 3px 10px #000000, -3px -3px 10px #2a2a2a;
            transition: all 0.3s ease;
        }
        button:hover, .option:hover {
            background: #555;
            box-shadow: inset 3px 3px 10px #000000, inset -3px -3px 10px #2a2a2a;
        }
        .quiz {
            display: none;
        }
        /* Estilo das opções corretas e incorretas */
        .option.correct {
            background-color: #28a745; /* Verde */
            color: white;
        }
        .option.incorrect {
            background-color: #dc3545; /* Vermelho */
            color: white;
        }
        /* Estilo do modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background: #222;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: #fff;
            box-shadow: 5px 5px 15px #000, -5px -5px 15px #444;
        }
        .modal-content h2 {
            margin-bottom: 10px;
        }
        .modal-content p {
            margin-bottom: 20px;
            line-height: 1.5;
        }
        .close-modal {
            padding: 10px 20px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 3px 3px 10px #000000, -3px -3px 10px #2a2a2a;
        }
        .close-modal:hover {
            background: #555;
        }
    </style>
</head>
<body>
    <div class="modal" id="tutorialModal">
        <div class="modal-content">
            <h2>Bem-vindo ao Micro Expressões Faciais Test!</h2>
            <p>
                Espere, veja esse tutorial. Em cima, você escolhe o vídeo da microexpressão para analisar: 
                Vídeo 1, Vídeo 2, Vídeo 3, etc. Ao selecionar a resposta, vá lá em cima e escolha o próximo vídeo. 
                Cada acerto permite que você continue. São apenas 14 vídeos.  
                <br><br>
                Não veja alguns vídeos completos, pois as respostas estão no final de cada vídeo. Pause para responder.
            </p>
            <button class="close-modal" id="closeTutorial">Fechar</button>
        </div>
    </div>

    <div class="container">
        <h1>Micro Expressões Faciais</h1>
        <select id="videoSelector">
            <option value="1">Vídeo 1</option>
            <option value="2">Vídeo 2</option>
            <option value="3">Vídeo 3</option>
            <option value="4">Vídeo 4</option>
            <option value="5">Vídeo 5</option>
            <option value="6">Vídeo 6</option>
            <option value="7">Vídeo 7</option>
            <option value="8">Vídeo 8</option>
            <option value="9">Vídeo 9</option>
            <option value="10">Vídeo 10</option>
            <option value="11">Vídeo 11</option>
            <option value="12">Vídeo 12</option>
            <option value="13">Vídeo 13</option>
            <option value="14">Vídeo 14</option>
        </select>
        <video id="videoPlayer" controls>
            <source id="videoSource" src="video/local_video1.mp4" type="video/mp4">
            Seu navegador não suporta o elemento de vídeo.
        </video>
        <button id="startQuiz">COMEÇA QUIZ</button>

        <div class="quiz" id="quizSection">
            <h2>O que a pessoa no vídeo está sentindo?</h2>
            <div id="optionsContainer">
                <button class="option" onclick="checkAnswer(this, 'alegria')">Alegria</button>
                <button class="option" onclick="checkAnswer(this, 'raiva')">Raiva</button>
                <button class="option" onclick="checkAnswer(this, 'tristeza')">Tristeza</button>
                <button class="option" onclick="checkAnswer(this, 'surpresa')">Surpresa</button>
                <button class="option" onclick="checkAnswer(this, 'desprezo')">Desprezo</button>
                <button class="option" onclick="checkAnswer(this, 'medo')">Medo</button>
                <button class="option" onclick="checkAnswer(this, 'nojo')">Nojo</button>
            </div>
        </div>
    </div>

    <script>
        const tutorialModal = document.getElementById('tutorialModal');
        const closeTutorialButton = document.getElementById('closeTutorial');
        const videoSelector = document.getElementById('videoSelector');
        const videoSource = document.getElementById('videoSource');
        const videoPlayer = document.getElementById('videoPlayer');
        const startQuizButton = document.getElementById('startQuiz');
        const quizSection = document.getElementById('quizSection');

        const answers = {
            1: "alegria",
            2: "raiva",
            3: "tristeza",
            4: "surpresa",
            5: "desprezo",
            6: "medo",
            7: "nojo",
            8: "alegria",
            9: "raiva",
            10: "tristeza",
            11: "surpresa",
            12: "desprezo",
            13: "medo",
            14: "nojo",
            
        };

        // Fecha o modal de tutorial
        closeTutorialButton.addEventListener('click', () => {
            tutorialModal.style.display = 'none';
        });

        // Atualiza o vídeo ao trocar a opção no seletor
        videoSelector.addEventListener('change', () => {
            const selectedVideo = videoSelector.value;
            videoSource.src = `video/local_video${selectedVideo}.mp4`;
            videoPlayer.load();
        });

        // Mostra a seção do quiz ao clicar no botão "Iniciar Quiz"
        startQuizButton.addEventListener('click', () => {
            quizSection.style.display = 'block';
            startQuizButton.style.display = 'none';
        });

        // Verifica a resposta e aplica a classe correta ou incorreta
        function checkAnswer(button, answer) {
            const selectedVideo = videoSelector.value;
            const correctAnswer = answers[selectedVideo];

            // Remove classes de outros botões
            const options = document.querySelectorAll('.option');
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });

            // Marca a resposta como correta ou incorreta
            if (answer === correctAnswer) {
                button.classList.add('correct'); // Adiciona a classe para acerto
                alert("Parabéns! Você acertou!");
            } else {
                button.classList.add('incorrect'); // Adiciona a classe para erro
                alert("Resposta errada! Tente novamente.");
            }
        }
    </script>
</body>
</html>